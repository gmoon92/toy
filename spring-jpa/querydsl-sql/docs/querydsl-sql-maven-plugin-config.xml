<profiles>
    <profile>
        <id>codegen</id>
        <activation>
            <activeByDefault>false</activeByDefault>
        </activation>
        <build>
            <plugins>
                <plugin>
                    <groupId>com.querydsl</groupId>
                    <artifactId>querydsl-maven-plugin</artifactId>
                    <version>${querydsl-core.version}</version>
                    <executions>
                        <execution>
                            <id>generator-querydsl-meta-model</id>
                            <phase>generate-sources</phase>
                            <goals>
                                <goal>export</goal>
                            </goals>
                        </execution>
                    </executions>
                    <configuration>
                        <jdbcDriver>${jdbc.driver}</jdbcDriver>
                        <jdbcUrl>${jdbc.url}</jdbcUrl>
                        <jdbcUser>${jdbc.username}</jdbcUser>
                        <jdbcPassword>${jdbc.password}</jdbcPassword>
                        <schemaPattern>${db.schema}</schemaPattern>
                        <catalogPattern>${db.schema}</catalogPattern>
                        <namePrefix>S</namePrefix>
                        <packageName>com.gmoon</packageName>
                        <sourceFolder>${project.basedir}/src/main/java</sourceFolder>
                        <targetFolder>${project.basedir}/target/generated-sources/java</targetFolder>
                    </configuration>
                    <dependencies>
                        <dependency>
                            <groupId>org.apache.derby</groupId>
                            <artifactId>derby</artifactId>
                            <version>${derby.version}</version>
                        </dependency>

                        <dependency>
                            <groupId>mysql</groupId>
                            <artifactId>mysql-connector-java</artifactId>
                            <version>${mysql-connector-java.version}</version>
                        </dependency>
                    </dependencies>
                </plugin>
            </plugins>
        </build>
    </profile>
</profiles>
