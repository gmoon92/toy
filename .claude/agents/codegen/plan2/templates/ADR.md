# 아키텍처 결정 기록 (Architecture Decision Record)

## 개요

| 항목 | 내용 |
|------|------|
| **ADR ID** | ADR-XXX |
| **제목** | [결정 내용 요약] |
| **상태** | Proposed / Accepted / Deprecated / Superseded |
| **작성일** | YYYY-MM-DD |
| **결정일** | YYYY-MM-DD |
| **작성자** | [이름] |

---

## 1. 맥락 (Context)

### 1.1 배경

[결정이 필요하게 된 배경과 상황을 설명]

### 1.2 문제 정의

[해결해야 할 문제를 명확히 기술]

### 1.3 제약 조건

- [제약 1]
- [제약 2]

### 1.4 관련 요구사항

- [요구사항 1]
- [요구사항 2]

---

## 2. 결정 (Decision)

### 2.1 결정 내용

**[선택한 옵션]을 채택한다.**

[결정의 핵심 내용을 간결히 기술]

### 2.2 근거

1. [근거 1]
2. [근거 2]
3. [근거 3]

### 2.3 영향

| 영역 | 영향 | 심각도 |
|------|------|--------|
| [영역] | [설명] | High/Med/Low |

---

## 3. 대안 검토 (Alternatives)

### 3.1 검토한 옵션

| 옵션 | 설명 | 장점 | 단점 |
|------|------|------|------|
| **Option A: [이름]** | [설명] | - [장점]<br>- [장점] | - [단점]<br>- [단점] |
| **Option B: [이름]** | [설명] | - [장점]<br>- [장점] | - [단점]<br>- [단점] |
| **Option C: [이름]** | [설명] | - [장점]<br>- [장점] | - [단점]<br>- [단점] |

### 3.2 선택 이유

[왜 선택한 옵션이 다른 옵션보다 나은지 설명]

---

## 4. 구현 (Implementation)

### 4.1 구현 계획

| 단계 | 작업 | 예상 소요 | 담당자 |
|------|------|-----------|--------|
| 1 | [작업] | X days | [이름] |
| 2 | [작업] | Y days | [이름] |

### 4.2 마이그레이션 전략

[기존 시스템에서 새 시스템으로의 전환 계획]

### 4.3 롤백 계획

[결정이 잘못되었을 경우 대처 방안]

---

## 5. 결과 (Consequences)

### 5.1 긍정적 결과

- [결과 1]
- [결과 2]

### 5.2 부정적 결과 / 위험

- [위험 1] - 완화: [방법]
- [위험 2] - 완화: [방법]

### 5.3 기술 부채

[이 결정으로 인해 발생하는 기술 부채]

---

## 6. 관련 결정

### 6.1 선행 결정

- [ADR-XXX: 제목]

### 6.2 후속 결정

- [ADR-XXX: 제목]

### 6.3 대체한 결정

- [ADR-XXX: 제목] (Deprecated)

---

## 7. 참고 자료

- [링크/문서 1]
- [링크/문서 2]
- [관련 이슈 #123]

---

## 8. 변경 이력

| 날짜 | 버전 | 작성자 | 변경 내용 |
|------|------|--------|-----------|
| YYYY-MM-DD | 1.0 | [이름] | 초안 작성 |
| YYYY-MM-DD | 1.1 | [이름] | [변경 내용] |

---

## 9. 승인

| 역할 | 이름 | 의견 | 날짜 |
|------|------|------|------|
| 작성자 | | | |
| 검토자 | | | |
| 승인자 | | | |

---

## 템플릿 사용 가이드

### 작성 시 고려사항

1. **명확성**: 결정의 이유를 명확히 기술
2. **완전성**: 모든 대안을 공정하게 검토
3. **시기**: 결정 전에 작성하여 검토받을 것
4. **유지보수**: 결정 변경 시 상태 업데이트

### 상태 전이

```
Proposed → Accepted → Deprecated
              ↓
         Superseded by ADR-XXX
```

### 예시 ADR

**ADR-001: Error Handling Strategy**

- **결정**: `thiserror`를 사용한 커스텀 에러 타입 채택
- **근거**: `anyhow`는 디버깅이 어렵고, `snafu`는 복잡함
- **대안**: `anyhow` (간단함), `snafu` (강력한 컨텍스트)
