# [확장 사고 팁](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/extended-thinking-tips)

---

이 가이드는 Claude의 확장 사고 기능을 최대한 활용하기 위한 고급 전략과 기법을 제공합니다. 확장 사고를 통해 Claude는 복잡한 문제를 단계별로 처리하여 어려운 작업의 성능을 향상시킬 수 있습니다.

확장 사고를 언제 사용할지 결정하는 방법은 [확장 사고 모델](https://platform.claude.com/docs/en/about-claude/models/extended-thinking-models)을 참조하세요.

## 시작하기 전에

이 가이드는 여러분이 이미 확장 사고 모드를 사용하기로 결정했고, [확장 사고 모델 시작하기](https://platform.claude.com/docs/en/about-claude/models/extended-thinking-models#getting-started-with-extended-thinking-models)에 대한 기본 단계와 [확장 사고 구현 가이드](../02-capabilities/03-extended-thinking.md)를 검토했다고 가정합니다.

### 확장 사고의 기술적 고려사항

- 사고 토큰은 최소 1024 토큰의 예산이 필요합니다. 최소 사고 예산으로 시작한 다음 필요와 작업 복잡도에 따라 점진적으로 증가시키는 것을 권장합니다.
- 최적 사고 예산이 32K 이상인 워크로드의 경우, 네트워크 문제를 방지하기 위해 [배치 처리](../02-capabilities/06-batch-processing.md)를 사용하는 것을 권장합니다. 모델이 32K 토큰 이상을 사고하도록 요청하면 장시간 실행되는 요청이 발생하여 시스템 타임아웃 및 열린 연결 제한에 도달할 수 있습니다.
- 확장 사고는 영어에서 가장 잘 작동하지만, 최종 출력은 [Claude가 지원하는 모든 언어](../02-capabilities/08-multilingual-support.md)로 가능합니다.
- 최소 예산보다 적은 사고가 필요한 경우, 사고를 끈 표준 모드에서 XML 태그(`<thinking>`과 같은)를 사용한 전통적인 체인 오브 사고트(chain-of-thought) 프롬프팅을 사용하는 것을 권장합니다. [체인 오브 사고트 프롬프팅](../08-prompt-engineering/07-let-claude-think.md)을 참조하세요.

## 확장 사고를 위한 프롬프팅 기법

### 먼저 일반적인 지시를 사용하고, 필요시 단계별 지시로 문제 해결

Claude는 단계별 규정적 지침보다는 작업에 대해 깊이 생각하라는 높은 수준의 지시에서 더 좋은 성능을 보이는 경우가 많습니다. 문제에 접근하는 모델의 창의성은 인간이 최적의 사고 프로세스를 처방하는 능력을 초과할 수 있습니다.

예를 들어, 다음과 같이 하는 대신:

```text User
이 수학 문제를 단계별로 생각해보세요:
1. 먼저, 변수를 식별하세요
2. 그런 다음, 방정식을 설정하세요
3. 다음으로, x를 구하세요
...
```

다음과 같이 고려하세요:

```text User
이 수학 문제를 철저하고 매우 상세하게 생각해주세요.
여러 접근법을 고려하고 완전한 추론 과정을 보여주세요.
첫 번째 접근법이 작동하지 않으면 다른 방법을 시도하세요.
```

그렇다고 해서, Claude는 필요할 때 복잡한 구조화된 실행 단계를 효과적으로 따를 수 있습니다. 모델은 이전 버전보다 더 복잡한 지시가 포함된 더 긴 목록도 처리할 수 있습니다. 먼저 일반화된 지시로 시작한 다음, Claude의 사고 출력을 읽고 거기서부터 사고를 조정하기 위해 더 구체적인 지시를 제공하도록 반복하는 것을 권장합니다.

### 확장 사고를 사용한 멀티샷 프롬프팅

[멀티샷 프롬프팅](../08-prompt-engineering/06-use-examples.md)은 확장 사고와 잘 작동합니다. Claude에게 문제를 어떻게 생각해야 하는지에 대한 예제를 제공하면, 확장 사고 블록 내에서 유사한 추론 패턴을 따를 것입니다.

확장 사고 시나리오에서 프롬프트에 퓨샷 예제를 포함할 때 `<thinking>` 또는 `<scratchpad>`와 같은 XML 태그를 사용하여 해당 예제에서 확장 사고의 표준 패턴을 나타낼 수 있습니다.

Claude는 이 패턴을 공식적인 확장 사고 프로세스로 일반화할 것입니다. 그러나 Claude가 가장 좋다고 생각하는 방식으로 자유롭게 생각하도록 하는 것이 더 나은 결과를 얻을 수 있습니다.

예제:

```text User
수학 문제를 푸는 방법을 보여드리겠습니다. 그런 다음 비슷한 문제를 풀어주세요.

문제 1: 80의 15%는 얼마입니까?

<thinking>
80의 15%를 구하려면:
1. 15%를 소수로 변환: 15% = 0.15
2. 곱셈: 0.15 × 80 = 12
</thinking>

답은 12입니다.

이제 이 문제를 풀어보세요:
문제 2: 240의 35%는 얼마입니까?
```

### 확장 사고로 지시 준수 극대화하기

Claude는 확장 사고가 활성화되면 지시 준수가 크게 향상됩니다. 모델은 일반적으로:
1. 확장 사고 블록 내에서 지시에 대해 추론합니다
2. 응답에서 해당 지시를 실행합니다

지시 준수를 극대화하려면:
- 원하는 것을 명확하고 구체적으로 설명하세요
- 복잡한 지시의 경우, Claude가 체계적으로 작업해야 하는 번호가 매겨진 단계로 나누는 것을 고려하세요
- Claude가 확장 사고에서 지시를 완전히 처리할 수 있도록 충분한 예산을 허용하세요

### 확장 사고를 사용하여 Claude의 동작 디버그 및 조정

Claude의 사고 출력을 사용하여 Claude의 논리를 디버그할 수 있지만, 이 방법이 항상 완벽하게 신뢰할 수 있는 것은 아닙니다.

이 방법을 최대한 활용하려면 다음 팁을 권장합니다:
- Claude의 확장 사고를 사용자 텍스트 블록에 다시 전달하는 것은 권장하지 않습니다. 이는 성능을 향상시키지 않으며 실제로 결과를 저하시킬 수 있습니다.
- 확장 사고를 미리 채우는 것은 명시적으로 허용되지 않으며, 사고 블록 뒤에 오는 모델의 출력 텍스트를 수동으로 변경하면 모델 혼란으로 인해 결과가 저하될 가능성이 높습니다.

확장 사고가 꺼져 있을 때, 표준 `assistant` 응답 텍스트 [미리 채우기](../08-prompt-engineering/10-prefill-claudes-response.md)는 여전히 허용됩니다.


> 때때로 Claude는 어시스턴트 출력 텍스트에서 확장 사고를 반복할 수 있습니다. 깔끔한 응답을 원한다면, Claude에게 확장 사고를 반복하지 말고 답변만 출력하도록 지시하세요.


### 긴 출력과 장문 사고 최대한 활용하기

데이터셋 생성 사용 사례의 경우, 포괄적인 데이터셋을 생성하기 위해 "매우 상세한 표를 만들어주세요..."와 같은 프롬프트를 시도해보세요.

더 긴 확장 사고 블록과 더 상세한 응답을 생성하려는 상세한 콘텐츠 생성과 같은 사용 사례의 경우, 다음 팁을 시도해보세요:
- 최대 확장 사고 길이를 늘리고 더 긴 출력을 명시적으로 요청하세요
- 매우 긴 출력(20,000단어 이상)의 경우, 문단 수준까지 단어 수가 포함된 상세한 개요를 요청하세요. 그런 다음 Claude에게 문단을 개요에 인덱싱하고 지정된 단어 수를 유지하도록 요청하세요


> 토큰을 출력하기 위해 Claude가 더 많은 토큰을 출력하도록 강요하는 것은 권장하지 않습니다. 대신 작은 사고 예산으로 시작하여 사용 사례에 최적의 설정을 찾기 위해 필요에 따라 증가시키는 것을 권장합니다.


다음은 더 긴 확장 사고로 인해 Claude가 뛰어난 성능을 발휘하는 예제 사용 사례입니다:

**복잡한 STEM 문제**

복잡한 STEM 문제는 Claude가 정신적 모델을 구축하고, 전문 지식을 적용하며, 순차적 논리 단계를 처리해야 하는데, 이는 더 긴 추론 시간의 이점을 받는 프로세스입니다.

**표준 프롬프트:**
```text User
사각형 안에서 튀는 노란색 공을 위한 파이썬 스크립트를 작성하세요,
충돌 감지를 적절히 처리하세요.
사각형을 천천히 회전시키세요.
```


> 이 간단한 작업은 일반적으로 몇 초의 사고 시간만 필요합니다.


**향상된 프롬프트:**
```text User
테서랙트(tesseract) 안에서 튀는 노란색 공을 위한 파이썬 스크립트를 작성하세요,
충돌 감지를 적절히 처리하세요.
테서랙트를 천천히 회전시키세요.
공이 테서랙트 안에 머물도록 하세요.
```


> 이 복잡한 4D 시각화 과제는 Claude가 수학적 및 프로그래밍 복잡성을 처리하는 동안 긴 확장 사고 시간을 최대한 활용합니다.


**제약 최적화 문제**

제약 최적화는 Claude가 여러 경쟁 요구사항을 동시에 만족시켜야 하는 문제로, 모델이 각 제약을 체계적으로 처리할 수 있도록 긴 확장 사고 시간을 허용할 때 가장 잘 달성됩니다.

**표준 프롬프트:**
```text User
일본으로 일주일 휴가를 계획하세요.
```


> 이 개방형 요청은 일반적으로 몇 초의 사고 시간만 필요합니다.


**향상된 프롬프트:**
```text User
다음 제약 조건이 있는 7일간의 일본 여행을 계획하세요:
- $2,500 예산
- 도쿄와 교토를 포함해야 함
- 채식주의 식단을 수용해야 함
- 쇼핑보다 문화 체험 선호
- 하루는 하이킹을 포함해야 함
- 하루에 장소 간 이동 시간이 2시간을 넘지 않아야 함
- 매일 오후에 집으로 전화할 수 있는 자유 시간이 필요함
- 가능한 한 혼잡함을 피해야 함
```


> 균형을 맞춰야 할 여러 제약 조건이 있을 때, Claude는 모든 요구사항을 최적으로 만족시키는 방법을 생각할 수 있는 더 많은 공간이 주어질 때 자연스럽게 최상의 성능을 발휘합니다.


**사고 프레임워크**

구조화된 사고 프레임워크는 Claude에게 따라야 할 명시적인 방법론을 제공하며, 이는 Claude가 각 단계를 따를 수 있는 긴 확장 사고 공간이 주어질 때 가장 잘 작동할 수 있습니다.

**표준 프롬프트:**
```text User
2027년까지 마이크로소프트가 개인 맞춤형 의학 시장에
진입하기 위한 포괄적인 전략을 개발하세요.
```


> 이 광범위한 전략적 질문은 일반적으로 몇 초의 사고 시간만 필요합니다.


**향상된 프롬프트:**
```text User
2027년까지 마이크로소프트가 개인 맞춤형 의학 시장에
진입하기 위한 포괄적인 전략을 개발하세요.

다음으로 시작하세요:
1. 블루 오션 전략 캔버스
2. 포터의 5가지 경쟁력을 적용하여 경쟁 압력 식별

다음으로, 규제 및 기술 변수를 기반으로 한
네 가지 서로 다른 미래에 대한 시나리오 계획 연습을 수행하세요.

각 시나리오에 대해:
- 앤소프 매트릭스를 사용하여 전략적 대응 개발

마지막으로, 다음을 위해 Three Horizons 프레임워크를 적용하세요:
- 전환 경로 매핑
- 각 단계에서 잠재적인 파괴적 혁신 식별
```


> 순차적으로 적용해야 하는 여러 분석 프레임워크를 지정함으로써, Claude가 각 프레임워크를 체계적으로 처리하면서 사고 시간이 자연스럽게 증가합니다.


### Claude가 작업을 검토하고 확인하도록 하여 일관성과 오류 처리 개선

간단한 자연어 프롬프팅을 사용하여 일관성을 향상시키고 오류를 줄일 수 있습니다:
1. 작업을 완료했다고 선언하기 전에 간단한 테스트로 작업을 확인하도록 Claude에게 요청하세요
2. 이전 단계가 예상된 결과를 달성했는지 분석하도록 모델에 지시하세요
3. 코딩 작업의 경우, 확장 사고에서 테스트 케이스를 실행하도록 Claude에게 요청하세요

예제:

```text User
숫자의 팩토리얼을 계산하는 함수를 작성하세요.
완료하기 전에, 다음에 대한 테스트 케이스로 솔루션을 검증하세요:
- n=0
- n=1
- n=5
- n=10
그리고 발견한 문제를 수정하세요.
```

## 다음 단계

- [확장 사고 쿡북](https://platform.claude.com/cookbook/extended-thinking-extended-thinking) - 쿡북에서 확장 사고의 실용적인 예제를 탐색하세요.
- [확장 사고 가이드](../02-capabilities/03-extended-thinking.md) - 확장 사고 구현을 위한 완전한 기술 문서를 참조하세요.
